<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard Peserta - CBT Admin</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box}
  body{font-family:system-ui,-apple-system,"Segoe UI",Roboto,sans-serif;background:#f6f8fa;min-height:100vh}
  .topbar{
    background:#fff;border-bottom:1px solid #ddd;
    padding:12px 18px;display:flex;justify-content:space-between;align-items:center;
    position:sticky;top:0;z-index:10;
  }
  .topbar h2{font-size:18px;color:#24292f}
  .logout-btn{
    border:none;background:none;color:#0969da;font-weight:600;cursor:pointer;
  }
  .content{
    max-width:800px;margin:40px auto;background:#fff;border:1px solid #ddd;
    border-radius:8px;padding:20px;box-shadow:0 3px 10px rgba(0,0,0,.05);
  }
  h3{margin-bottom:10px;color:#24292f}
  table{width:100%;border-collapse:collapse;margin-top:10px}
  th,td{border-bottom:1px solid #eee;padding:8px;text-align:left}
  th{background:#f6f8fa}
  .stat{display:flex;justify-content:space-around;flex-wrap:wrap;margin-top:20px}
  .card{
    background:#fff;border:1px solid #ddd;border-radius:8px;
    padding:16px;width:180px;margin:8px;text-align:center;
  }
  .card h4{margin-bottom:6px;color:#0969da}
  .card span{font-size:14px;color:#555}
  @media(max-width:600px){
    .card{width:100%}
  }
</style>
</head>
<body>

<!-- Topbar -->
<div class="topbar">
  <h2>ðŸ‘¥ Dashboard Peserta</h2>
  <button class="logout-btn" onclick="logout()">Keluar</button>
</div>

<!-- Content -->
<div class="content">
  <h3>Data Peserta CBT</h3>
  <table>
    <thead>
      <tr><th>No</th><th>Username</th><th>Nama</th><th>Rombel</th><th>Sesi</th><th>Status</th></tr>
    </thead>
    <tbody>
      <tr><td>1</td><td>ahmad_2024</td><td>Ahmad Rizki</td><td>10A</td><td>1</td><td>Aktif</td></tr>
      <tr><td>2</td><td>siti_2024</td><td>Siti Nurhaliza</td><td>10B</td><td>2</td><td>Aktif</td></tr>
    </tbody>
  </table>

  <div class="stat">
    <div class="card"><h4>32</h4><span>Total Peserta</span></div>
    <div class="card"><h4>5</h4><span>Total Rombel</span></div>
    <div class="card"><h4>3</h4><span>Total Sesi</span></div>
  </div>
</div>

<script>
const SESSION_TIMEOUT = 15 * 60 * 1000; // 15 menit

// Fungsi cek login
function checkLogin(){
  const isLoggedIn = localStorage.getItem("isLoggedIn");
  const sessionExpire = localStorage.getItem("sessionExpire");
  if(isLoggedIn!=="true" || !sessionExpire || Date.now()>sessionExpire){
    logout();
  }
}

// Logout function
function logout(){
  localStorage.removeItem("isLoggedIn");
  localStorage.removeItem("sessionExpire");
  location.href="login.html";
}

// Perpanjang waktu sesi tiap aktivitas
function resetSessionTimer(){
  const newExpire = Date.now() + SESSION_TIMEOUT;
  localStorage.setItem("sessionExpire", newExpire);
}

// Periksa login saat halaman dibuka
checkLogin();

// Pantau aktivitas pengguna
document.addEventListener("mousemove", resetSessionTimer);
document.addEventListener("keydown", resetSessionTimer);
</script>
</body>
</html>
